"use strict";(self.webpackChunkuser=self.webpackChunkuser||[]).push([[662],{2662:(W,L,i)=>{i.r(L),i.d(L,{AuthModule:()=>g});var A=i(6895),u=i(9299),s=i(4006),a=(()=>{return(r=a||(a={})).email="email",r.password="password",r.username="username",r.confirmPassword="confirmPassword",r.role="role",a;var r})(),e=i(4650),T=i(9472),I=i(529);class l{constructor(o){this._HttpClient=o}createAccount(o){return this._HttpClient.post(T.N.baseApi+"auth/createAccount",o)}logIn(o){return this._HttpClient.post(T.N.baseApi+"auth/login",o)}}l.\u0275fac=function(o){return new(o||l)(e.LFG(I.eN))},l.\u0275prov=e.Yz7({token:l,factory:l.\u0275fac});var C=i(7185),q=i(3081),_=i(4859),R=i(7392),v=i(284),m=i(9549);function w(r,o){1&r&&(e.TgZ(0,"mat-error"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&r&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"Login.emailErrorReq")))}function S(r,o){1&r&&(e.TgZ(0,"mat-error"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&r&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"Login.emailErrorInValid")))}function y(r,o){1&r&&(e.TgZ(0,"mat-error"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&r&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"Login.passErrorReq")))}function N(r,o){1&r&&(e.TgZ(0,"mat-error"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&r&&(e.xp6(1),e.hij("",e.lcZ(2,1,"Login.passErrorMin")," "))}function M(r,o){1&r&&(e.TgZ(0,"mat-error"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&r&&(e.xp6(1),e.hij("",e.lcZ(2,1,"Login.passErrorMax")," "))}class F{isErrorState(o,t){return!!(o&&o.invalid&&(o.dirty||o.touched||t&&t.submitted))}}class d{constructor(o,t,n,Z,p){this._fb=o,this._Router=t,this._LoginService=n,this._ToastrService=Z,this._TranslateService=p,this.matcher=new F,this.hidePass=!0,this.hidePassCon=!0,this.fildes=a}ngOnInit(){this.createForm()}createForm(){this.loginForm=this._fb.group({[a.email]:["",[s.kI.required,s.kI.email]],[a.password]:["",[s.kI.required,s.kI.minLength(3),s.kI.maxLength(10)]],[a.role]:["user"]})}logIn(o){o.valid&&this._LoginService.logIn(o.value).subscribe({next:t=>{this._ToastrService.success(this._TranslateService.instant("toaster.logSucces"),this._TranslateService.instant("toaster.titleSucess")),localStorage.setItem("_Data",JSON.stringify(t)),this._Router.navigate(["/tasks"])}})}get emailRequired(){return this.loginForm.get(a.email)?.hasError("required")}get emailFormat(){return this.loginForm.get(a.email)?.hasError("email")}get passwordRequired(){return this.loginForm.get(a.password)?.hasError("required")}get passwordMin(){return this.loginForm.get(a.password)?.hasError("minlength")}get passwordMax(){return this.loginForm.get(a.password)?.hasError("maxlength")}}function b(r,o){1&r&&(e.TgZ(0,"mat-error"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&r&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"Register.userNameErrorReq")))}function J(r,o){1&r&&(e.TgZ(0,"mat-error"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&r&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"Register.userNameErrorMin")))}function P(r,o){1&r&&(e.TgZ(0,"mat-error"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&r&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"Register.userNameErrorMax")))}function E(r,o){1&r&&(e.TgZ(0,"mat-error"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&r&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"Register.emailErrorReq")))}function U(r,o){1&r&&(e.TgZ(0,"mat-error"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&r&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"Register.emailErrorInValid")))}function O(r,o){1&r&&(e.TgZ(0,"mat-error"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&r&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"Register.passErrorReq")))}function Y(r,o){1&r&&(e.TgZ(0,"mat-error"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&r&&(e.xp6(1),e.hij("",e.lcZ(2,1,"Register.passErrorMin")," "))}function Q(r,o){1&r&&(e.TgZ(0,"mat-error"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&r&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"Register.passErrorMax")))}function k(r,o){1&r&&(e.TgZ(0,"mat-error"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&r&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"Register.conPassErrorReq")))}function j(r,o){1&r&&(e.TgZ(0,"mat-hint"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&r&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"Register.conPassErrorCon")))}d.\u0275fac=function(o){return new(o||d)(e.Y36(s.qu),e.Y36(u.F0),e.Y36(l),e.Y36(C._W),e.Y36(q.sK))},d.\u0275cmp=e.Xpm({type:d,selectors:[["app-login"]],decls:31,vars:34,consts:[[1,"rounded","shadow","p-3","col-md-10","mx-auto"],[1,"text-center"],[1,"mt-4","vstack","gap-2",3,"formGroup","ngSubmit"],["appearance","outline",1,"w-100"],["type","email","matInput","",3,"placeholder","formControlName","errorStateMatcher"],[4,"ngIf"],["matInput","",3,"type","formControlName","errorStateMatcher","placeholder"],["type","button","mat-icon-button","","matSuffix","",3,"click"],["mat-raised-button","","color","primary",3,"disabled"],["routerLink","/register",1,"link-primary","mt-3","text-decoration-none"]],template:function(o,t){1&o&&(e.TgZ(0,"section",0)(1,"h1",1),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"form",2),e.NdJ("ngSubmit",function(){return t.logIn(t.loginForm)}),e.TgZ(5,"mat-form-field",3)(6,"mat-label"),e._uU(7),e.ALo(8,"translate"),e.qZA(),e._UZ(9,"input",4),e.ALo(10,"translate"),e.YNc(11,w,3,3,"mat-error",5),e.YNc(12,S,3,3,"mat-error",5),e.qZA(),e.TgZ(13,"mat-form-field",3)(14,"mat-label"),e._uU(15),e.ALo(16,"translate"),e.qZA(),e._UZ(17,"input",6),e.ALo(18,"translate"),e.TgZ(19,"button",7),e.NdJ("click",function(){return t.hidePass=!t.hidePass}),e.TgZ(20,"mat-icon"),e._uU(21),e.qZA()(),e.YNc(22,y,3,3,"mat-error",5),e.YNc(23,N,3,3,"mat-error",5),e.YNc(24,M,3,3,"mat-error",5),e.qZA(),e.TgZ(25,"button",8),e._uU(26),e.ALo(27,"translate"),e.qZA(),e.TgZ(28,"a",9),e._uU(29),e.ALo(30,"translate"),e.qZA()()()),2&o&&(e.xp6(2),e.Oqu(e.lcZ(3,20,"Login.title")),e.xp6(2),e.Q6J("formGroup",t.loginForm),e.xp6(3),e.Oqu(e.lcZ(8,22,"Login.emailInput")),e.xp6(2),e.s9C("placeholder",e.lcZ(10,24,"Login.emailPlace")),e.Q6J("formControlName",t.fildes.email)("errorStateMatcher",t.matcher),e.xp6(2),e.Q6J("ngIf",t.emailRequired),e.xp6(1),e.Q6J("ngIf",t.emailFormat),e.xp6(3),e.Oqu(e.lcZ(16,26,"Login.passInput")),e.xp6(2),e.s9C("placeholder",e.lcZ(18,28,"Login.passPlace")),e.Q6J("type",t.hidePass?"password":"text")("formControlName",t.fildes.password)("errorStateMatcher",t.matcher),e.xp6(4),e.Oqu(t.hidePass?"visibility_off":"visibility"),e.xp6(1),e.Q6J("ngIf",t.passwordRequired),e.xp6(1),e.Q6J("ngIf",t.passwordMin),e.xp6(1),e.Q6J("ngIf",t.passwordMax),e.xp6(1),e.Q6J("disabled",t.loginForm.invalid),e.xp6(1),e.hij(" ",e.lcZ(27,30,"Login.title")," "),e.xp6(3),e.Oqu(e.lcZ(30,32,"Login.nAccount")))},dependencies:[A.O5,u.rH,_.lW,_.RK,R.Hw,v.Nt,m.KE,m.hX,m.TO,m.R9,s._Y,s.Fj,s.JJ,s.JL,s.sg,s.u,q.X$],styles:["[_nghost-%COMP%]{width:100%}"]});class H{isErrorState(o,t){return!!(o&&o.invalid&&(o.dirty||o.touched||t&&t.submitted))}}class h{constructor(o,t,n,Z){this._fb=o,this._Router=t,this._LoginService=n,this._ToastrService=Z,this.matcher=new H,this.hidePass=!0,this.hidePassCon=!0,this.fildes=a,this.checkPassword=p=>{const x=p.get(a.password)?.value,B=p.get(a.confirmPassword)?.value;x!==B&&p.get(a.confirmPassword)?.setErrors({notsame:!0})}}ngOnInit(){this.createForm()}createForm(){this.registeForm=this._fb.group({[a.username]:["",[s.kI.required,s.kI.minLength(3),s.kI.maxLength(16)]],[a.email]:["",[s.kI.required,s.kI.email]],[a.password]:["",[s.kI.required,s.kI.minLength(3),s.kI.maxLength(10)]],[a.confirmPassword]:["",[s.kI.required]],[a.role]:["user"]},{validators:this.checkPassword})}register(o){const{username:t,email:n,password:Z,role:p}=this.registeForm.value;o.valid&&this._LoginService.createAccount({username:t,email:n,password:Z,role:p}).subscribe({next:x=>{this._ToastrService.success("Registration Successfully","Success"),this._Router.navigate(["/login"])}})}get userRequired(){return this.registeForm.get(a.username)?.hasError("required")}get userMax(){return this.registeForm.get(a.username)?.hasError("maxlength")}get userMin(){return this.registeForm.get(a.username)?.hasError("minlength")}get emailRequired(){return this.registeForm.get(a.email)?.hasError("required")}get emailFormat(){return this.registeForm.get(a.email)?.hasError("email")}get passwordRequired(){return this.registeForm.get(a.password)?.hasError("required")}get passwordMin(){return this.registeForm.get(a.password)?.hasError("minlength")}get passwordMax(){return this.registeForm.get(a.password)?.hasError("maxlength")}get passwordConRequired(){return this.registeForm.get(a.confirmPassword)?.hasError("required")}get passwordConfirm(){return this.registeForm.get(a.confirmPassword)?.hasError("notsame")}}h.\u0275fac=function(o){return new(o||h)(e.Y36(s.qu),e.Y36(u.F0),e.Y36(l),e.Y36(C._W))},h.\u0275cmp=e.Xpm({type:h,selectors:[["app-register"]],decls:51,vars:57,consts:[[1,"rounded","shadow","p-3","col-md-10","mx-auto"],[1,"text-center"],[1,"mt-4","vstack","gap-2",3,"formGroup","ngSubmit"],["appearance","outline",1,"w-100"],["type","text","matInput","",3,"placeholder","formControlName","errorStateMatcher"],[4,"ngIf"],["type","email","matInput","",3,"placeholder","formControlName","errorStateMatcher"],["matInput","",3,"type","formControlName","errorStateMatcher","placeholder"],["type","button","mat-icon-button","","matSuffix","",3,"click"],["matInput","",3,"formControlName","errorStateMatcher","type","placeholder"],["mat-raised-button","","color","primary",3,"disabled"],["routerLink","/login",1,"link-primary","mt-3","text-decoration-none"]],template:function(o,t){1&o&&(e.TgZ(0,"section",0)(1,"h1",1),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"form",2),e.NdJ("ngSubmit",function(){return t.register(t.registeForm)}),e.TgZ(5,"mat-form-field",3)(6,"mat-label"),e._uU(7),e.ALo(8,"translate"),e.qZA(),e._UZ(9,"input",4),e.ALo(10,"translate"),e.YNc(11,b,3,3,"mat-error",5),e.YNc(12,J,3,3,"mat-error",5),e.YNc(13,P,3,3,"mat-error",5),e.qZA(),e.TgZ(14,"mat-form-field",3)(15,"mat-label"),e._uU(16),e.ALo(17,"translate"),e.qZA(),e._UZ(18,"input",6),e.ALo(19,"translate"),e.YNc(20,E,3,3,"mat-error",5),e.YNc(21,U,3,3,"mat-error",5),e.qZA(),e.TgZ(22,"mat-form-field",3)(23,"mat-label"),e._uU(24),e.ALo(25,"translate"),e.qZA(),e._UZ(26,"input",7),e.ALo(27,"translate"),e.TgZ(28,"button",8),e.NdJ("click",function(){return t.hidePass=!t.hidePass}),e.TgZ(29,"mat-icon"),e._uU(30),e.qZA()(),e.YNc(31,O,3,3,"mat-error",5),e.YNc(32,Y,3,3,"mat-error",5),e.YNc(33,Q,3,3,"mat-error",5),e.qZA(),e.TgZ(34,"mat-form-field",3)(35,"mat-label"),e._uU(36),e.ALo(37,"translate"),e.qZA(),e._UZ(38,"input",9),e.ALo(39,"translate"),e.TgZ(40,"button",8),e.NdJ("click",function(){return t.hidePassCon=!t.hidePassCon}),e.TgZ(41,"mat-icon"),e._uU(42),e.qZA()(),e.YNc(43,k,3,3,"mat-error",5),e.YNc(44,j,3,3,"mat-hint",5),e.qZA(),e.TgZ(45,"button",10),e._uU(46),e.ALo(47,"translate"),e.qZA(),e.TgZ(48,"a",11),e._uU(49),e.ALo(50,"translate"),e.qZA()()()),2&o&&(e.xp6(2),e.Oqu(e.lcZ(3,35,"Register.title")),e.xp6(2),e.Q6J("formGroup",t.registeForm),e.xp6(3),e.Oqu(e.lcZ(8,37,"Register.userName")),e.xp6(2),e.s9C("placeholder",e.lcZ(10,39,"Register.userNamePlac")),e.Q6J("formControlName",t.fildes.username)("errorStateMatcher",t.matcher),e.xp6(2),e.Q6J("ngIf",t.userRequired),e.xp6(1),e.Q6J("ngIf",t.userMin),e.xp6(1),e.Q6J("ngIf",t.userMax),e.xp6(3),e.Oqu(e.lcZ(17,41,"Register.emailInput")),e.xp6(2),e.s9C("placeholder",e.lcZ(19,43,"Register.emailPlace")),e.Q6J("formControlName",t.fildes.email)("errorStateMatcher",t.matcher),e.xp6(2),e.Q6J("ngIf",t.emailRequired),e.xp6(1),e.Q6J("ngIf",t.emailFormat),e.xp6(3),e.Oqu(e.lcZ(25,45,"Register.passInput")),e.xp6(2),e.s9C("placeholder",e.lcZ(27,47,"Register.passPlace")),e.Q6J("type",t.hidePass?"password":"text")("formControlName",t.fildes.password)("errorStateMatcher",t.matcher),e.xp6(4),e.Oqu(t.hidePass?"visibility_off":"visibility"),e.xp6(1),e.Q6J("ngIf",t.passwordRequired),e.xp6(1),e.Q6J("ngIf",t.passwordMin),e.xp6(1),e.Q6J("ngIf",t.passwordMax),e.xp6(3),e.Oqu(e.lcZ(37,49,"Register.conPassTitle")),e.xp6(2),e.s9C("placeholder",e.lcZ(39,51,"Register.conPassPlace")),e.Q6J("formControlName",t.fildes.confirmPassword)("errorStateMatcher",t.matcher)("type",t.hidePassCon?"password":"text"),e.xp6(4),e.Oqu(t.hidePassCon?"visibility_off":"visibility"),e.xp6(1),e.Q6J("ngIf",t.passwordConRequired),e.xp6(1),e.Q6J("ngIf",t.passwordConfirm),e.xp6(1),e.Q6J("disabled",t.registeForm.invalid),e.xp6(1),e.hij(" ",e.lcZ(47,53,"Register.button")," "),e.xp6(3),e.Oqu(e.lcZ(50,55,"Register.hAccount")))},dependencies:[A.O5,u.rH,_.lW,_.RK,R.Hw,v.Nt,m.KE,m.hX,m.bx,m.TO,m.R9,s._Y,s.Fj,s.JJ,s.JL,s.sg,s.u,q.X$],styles:["[_nghost-%COMP%]{width:100%}"]});class f{}f.\u0275fac=function(o){return new(o||f)},f.\u0275cmp=e.Xpm({type:f,selectors:[["app-layout"]],decls:2,vars:0,consts:[[1,"container","hstack","justify-content-center","min-vh-100"]],template:function(o,t){1&o&&(e.TgZ(0,"div",0),e._UZ(1,"router-outlet"),e.qZA())},dependencies:[u.lC]});const X=[{path:"",component:f,children:[{path:"",redirectTo:"login",pathMatch:"full"},{path:"login",component:d,title:"LogIn"},{path:"register",component:h,title:"Register"}]}];class c{}c.\u0275fac=function(o){return new(o||c)},c.\u0275mod=e.oAB({type:c}),c.\u0275inj=e.cJS({imports:[u.Bz.forChild(X),u.Bz]});var G=i(9933),K=i(2562),z=i(3458);class g{}g.\u0275fac=function(o){return new(o||g)},g.\u0275mod=e.oAB({type:g}),g.\u0275inj=e.cJS({providers:[l],imports:[A.ez,c,G.m,K.q,z.j]})}}]);