"use strict";(self.webpackChunkuser=self.webpackChunkuser||[]).push([[141],{6141:(Q,_,o)=>{o.r(_),o.d(_,{TasksModule:()=>g});var l=o(6895),C=o(2562),b=o(9933),r=o(9299),t=o(4650),A=o(529),T=o(9472);class c{constructor(e){this._HttpClient=e}getTasks(e,a){let n=new A.LE;return n=n.appendAll(e),this._HttpClient.get(T.N.baseApi+`tasks/user-tasks/${a}`,{params:n})}getDetailsTask(e){return this._HttpClient.get(T.N.baseApi+`tasks/task/${e}`)}completeTask(e){return this._HttpClient.put(T.N.baseApi+"tasks/complete",e)}}c.\u0275fac=function(e){return new(e||c)(t.LFG(A.eN))},c.\u0275prov=t.Yz7({token:c,factory:c.\u0275fac});class p{constructor(e){this._ElementRef=e}updateUrl(){this._ElementRef.nativeElement.src="./assets/download.jfif"}}p.\u0275fac=function(e){return new(e||p)(t.Y36(t.SBq))},p.\u0275dir=t.lG2({type:p,selectors:[["","appErrorhandle",""]],hostBindings:function(e,a){1&e&&t.NdJ("error",function(){return a.updateUrl()})}});var f=o(4859),h=o(3081);function L(s,e){if(1&s&&t._UZ(0,"img",6),2&s){const a=t.oxw();t.Q6J("ngSrc","https://crud-eywd.onrender.com/"+a.task.image)("alt",a.task.title)}}function y(s,e){if(1&s){const a=t.EpF();t.TgZ(0,"button",15),t.NdJ("click",function(){t.CHM(a);const i=t.oxw(2);return t.KtG(i.completeTask(i.task._id))}),t._uU(1),t.ALo(2,"translate"),t.qZA()}2&s&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"TasksHome.CompleteBtn")," "))}function U(s,e){if(1&s&&(t.TgZ(0,"figcaption",7)(1,"h2",8),t._uU(2),t.ALo(3,"titlecase"),t.qZA(),t.TgZ(4,"div",9)(5,"h3",10),t._uU(6),t.ALo(7,"translate"),t.qZA(),t.TgZ(8,"h3",10),t._uU(9),t.ALo(10,"translate"),t.qZA(),t.TgZ(11,"h3",10),t._uU(12),t.ALo(13,"translate"),t.qZA(),t.TgZ(14,"p",11),t._uU(15),t.ALo(16,"translate"),t.qZA(),t.TgZ(17,"span"),t._uU(18),t.ALo(19,"translate"),t.qZA(),t.TgZ(20,"span",12),t._uU(21),t.ALo(22,"translate"),t.ALo(23,"translate"),t.qZA(),t.TgZ(24,"div",13),t.YNc(25,y,3,3,"button",14),t.qZA()()()),2&s){const a=t.oxw();t.xp6(2),t.Oqu(t.lcZ(3,12,a.task.title)),t.xp6(4),t.AsE(" ",t.lcZ(7,14,"TasksHome.tableDeadLine")," : ",a.task.deadline," "),t.xp6(3),t.AsE(" ",t.lcZ(10,16,"TaskDetails.creatAt"),": ",a.task.createdAt," "),t.xp6(3),t.AsE(" ",t.lcZ(13,18,"TaskDetails.updatedAt"),": ",a.task.updatedAt," "),t.xp6(3),t.AsE(" ",t.lcZ(16,20,"TaskDetails.Description"),": ",a.task.description," "),t.xp6(3),t.hij("",t.lcZ(19,22,"TasksHome.statusInput"),":"),t.xp6(3),t.hij(" ","In-Progress"===a.task.status?t.lcZ(22,24,"TasksHome.InProgress"):t.lcZ(23,26,"TasksHome.Complete"),""),t.xp6(4),t.Q6J("ngIf","Complete"!==a.task.status)}}class d{constructor(e,a,n){this._ActivatedRoute=e,this._TasksService=a,this._Router=n,this.task={}}ngOnInit(){const e=this._ActivatedRoute.snapshot.paramMap.get("id");this.getDetails(e)}getDetails(e){this._TasksService.getDetailsTask(e).subscribe({next:a=>{this.task=a.tasks,console.log(a.tasks)}})}completeTask(e){this._TasksService.completeTask({id:e,status:"Complete"}).subscribe({next:a=>{this._Router.navigate(["./"])}})}}d.\u0275fac=function(e){return new(e||d)(t.Y36(r.gz),t.Y36(c),t.Y36(r.F0))},d.\u0275cmp=t.Xpm({type:d,selectors:[["app-task-details"]],decls:7,vars:3,consts:[[1,"row","align-items-center","g-3","py-5"],[1,"col-md-6"],[1,"ratio","ratio-1x1"],["download","task","rel","noopener noreferrer nofollow","target","_blank",3,"href"],["fill","","appErrorhandle","","class","w-100",3,"ngSrc","alt",4,"ngIf"],["class","px-3",4,"ngIf"],["fill","","appErrorhandle","",1,"w-100",3,"ngSrc","alt"],[1,"px-3"],[1,"text-danger-emphasis"],[1,"small"],[1,"h6"],[1,"text-body-secondary","mt-3"],[1,"badge","text-bg-danger"],[1,"mt-4"],["mat-raised-button","","color","warn",3,"click",4,"ngIf"],["mat-raised-button","","color","warn",3,"click"]],template:function(e,a){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"figure",2)(3,"a",3),t.YNc(4,L,1,2,"img",4),t.qZA()()(),t.TgZ(5,"div",1),t.YNc(6,U,26,28,"figcaption",5),t.qZA()()),2&e&&(t.xp6(3),t.Q6J("href","https://crud-eywd.onrender.com/"+a.task.image,t.LSH),t.xp6(1),t.Q6J("ngIf",a.task.image),t.xp6(2),t.Q6J("ngIf",a.task.title))},dependencies:[l.O5,l.Zd,p,f.lW,l.rS,h.X$]});var D=o(8746),v=o(4333),S=o(3238),x=o(9549),I=o(4385);function H(s,e){if(1&s){const a=t.EpF();t.TgZ(0,"button",23),t.NdJ("click",function(){t.CHM(a);const i=t.oxw(),Z=i.$implicit,j=i.index,Y=t.oxw();return t.KtG(Y.completeTask(Z._id,j))}),t._uU(1),t.ALo(2,"translate"),t.qZA()}2&s&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"TasksHome.CompleteBtn")," "))}function q(s,e){1&s&&(t.TgZ(0,"span",24),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&s&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"TasksHome.completed"),""))}const J=function(s){return["./",s]};function E(s,e){if(1&s&&(t.TgZ(0,"div",10)(1,"div",11)(2,"figure",12),t._UZ(3,"img",13),t.qZA(),t.TgZ(4,"figcaption",14)(5,"div",15)(6,"h3",16),t._uU(7),t.ALo(8,"titlecase"),t.qZA(),t.TgZ(9,"h4",17),t._uU(10),t.ALo(11,"translate"),t.qZA(),t.TgZ(12,"p",18),t._uU(13),t.qZA()()(),t.TgZ(14,"footer",19)(15,"a",20),t._uU(16),t.ALo(17,"translate"),t.qZA(),t.YNc(18,H,3,3,"button",21),t.YNc(19,q,3,3,"span",22),t.qZA()()()),2&s){const a=e.$implicit;t.xp6(3),t.Q6J("ngSrc","https://crud-eywd.onrender.com/"+a.image)("alt",a.title),t.xp6(4),t.hij(" ",t.lcZ(8,10,a.title)," "),t.xp6(3),t.AsE(" ",t.lcZ(11,12,"TasksHome.tableDeadLine")," ",a.deadline," "),t.xp6(3),t.hij(" ",a.description.split(" ",10).join(" ")," "),t.xp6(2),t.Q6J("routerLink",t.VKq(16,J,a._id)),t.xp6(1),t.hij(" ",t.lcZ(17,14,"TasksHome.Details")," "),t.xp6(2),t.Q6J("ngIf","Complete"!==a.status),t.xp6(1),t.Q6J("ngIf","Complete"===a.status)}}function w(s,e){if(1&s){const a=t.EpF();t.TgZ(0,"pagination-controls",25),t.NdJ("pageChange",function(i){t.CHM(a);const Z=t.oxw();return t.KtG(Z.page=i)}),t.qZA()}}const N=function(s,e){return{id:"_id",itemsPerPage:10,currentPage:s,totalItems:e}};class m{constructor(e){this._TasksService=e,this.page=1,this.selectedStatus="In-Progress",this.tasksUser=[],this.total=0,this.filteration={page:this.page,limit:10,status:this.selectedStatus}}ngOnInit(){this.getTasks()}filterData(e,a){this.filteration[a]=e.value,this.filteration.page=1,this.getTasks()}getTasks(e){const a=JSON.parse(localStorage.getItem("_Data"));this._TasksService.getTasks(this.filteration,a?.userId).pipe((0,D.x)(()=>{void 0!==e&&this.tasksUser.splice(e,1)})).subscribe({next:n=>{this.tasksUser=n.tasks,this.total=n.totalItems},error:n=>{"No Tasks Found Assgined To This ID..."===n.error.message&&(this.tasksUser=[])}})}completeTask(e,a){this._TasksService.completeTask({id:e,status:"Complete"}).subscribe({next:n=>{this.getTasks(a)}})}}m.\u0275fac=function(e){return new(e||m)(t.Y36(c))},m.\u0275cmp=t.Xpm({type:m,selectors:[["app-tasks"]],decls:20,vars:21,consts:[[1,"mt-3"],["appearance","outline"],[3,"placeholder","value","selectionChange","valueChange"],["statusSelect",""],["value","Complete"],["value","In-Progress"],[1,"row","row-cols-1","row-cols-md-2","row-cols-lg-3","g-3"],["class","col",4,"ngFor","ngForOf"],[1,"hstack","justify-content-center","mt-4"],["id","_id",3,"pageChange",4,"ngIf"],[1,"col"],[1,"card","shadow"],[1,"ratio","ratio-4x3"],["fill","","appErrorhandle","",1,"card-img-top",3,"ngSrc","alt"],[1,"card-body"],[1,"card-title"],[1,"card-title","text-danger-emphasis"],[1,"card-subtitle","h6"],[1,"card-text","small","text-body-secondary"],[1,"card-footer","justify-content-center","hstack","gap-2"],["mat-raised-button","",3,"routerLink"],["mat-raised-button","","color","warn",3,"click",4,"ngIf"],["class","badge text-bg-danger",4,"ngIf"],["mat-raised-button","","color","warn",3,"click"],[1,"badge","text-bg-danger"],["id","_id",3,"pageChange"]],template:function(e,a){1&e&&(t.TgZ(0,"header",0)(1,"mat-form-field",1)(2,"mat-label"),t._uU(3),t.ALo(4,"translate"),t.qZA(),t.TgZ(5,"mat-select",2,3),t.NdJ("selectionChange",function(i){return a.filterData(i,"status")})("valueChange",function(i){return a.selectedStatus=i}),t.ALo(7,"translate"),t.TgZ(8,"mat-option",4),t._uU(9),t.ALo(10,"translate"),t.qZA(),t.TgZ(11,"mat-option",5),t._uU(12),t.ALo(13,"translate"),t.qZA()()()(),t.TgZ(14,"section")(15,"div",6),t.YNc(16,E,20,18,"div",7),t.ALo(17,"paginate"),t.qZA()(),t.TgZ(18,"footer",8),t.YNc(19,w,1,0,"pagination-controls",9),t.qZA()),2&e&&(t.xp6(3),t.Oqu(t.lcZ(4,7,"TasksHome.statusInput")),t.xp6(2),t.s9C("placeholder",t.lcZ(7,9,"TasksHome.statusInputPlac")),t.Q6J("value",a.selectedStatus),t.xp6(4),t.hij(" ",t.lcZ(10,11,"TasksHome.Complete")," "),t.xp6(3),t.hij(" ",t.lcZ(13,13,"TasksHome.InProgress")," "),t.xp6(4),t.Q6J("ngForOf",t.xi3(17,15,a.tasksUser,t.WLB(18,N,a.page,a.total))),t.xp6(3),t.Q6J("ngIf",a.tasksUser.length))},dependencies:[l.sg,l.O5,r.rH,l.Zd,p,v.LS,S.ey,f.zs,f.lW,x.KE,x.hX,I.gD,l.rS,h.X$,v._s]});const F=function(){return{exact:!0}};class k{constructor(e){this._Router=e}logOut(){localStorage.removeItem("_Data"),this._Router.navigate(["/login"])}}k.\u0275fac=function(e){return new(e||k)(t.Y36(r.F0))},k.\u0275cmp=t.Xpm({type:k,selectors:[["app-layout"]],decls:20,vars:11,consts:[["data-bs-theme","dark",1,"navbar","navbar-expand-lg","bg-body-tertiary"],[1,"container"],["routerLink","/tasks",1,"navbar-brand"],["type","button","data-bs-toggle","collapse","data-bs-target","#navbarSupportedContent","aria-controls","navbarSupportedContent","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler"],[1,"navbar-toggler-icon"],["id","navbarSupportedContent",1,"collapse","navbar-collapse"],[1,"navbar-nav","mx-auto","mb-2","mb-lg-0"],[1,"nav-item"],["routerLink","/tasks","routerLinkActive","active",1,"nav-link",3,"routerLinkActiveOptions"],[1,"navbar-nav","mb-2","mb-lg-0"],["role","button",1,"nav-link",3,"click"]],template:function(e,a){1&e&&(t.TgZ(0,"nav",0)(1,"div",1)(2,"a",2),t._uU(3),t.ALo(4,"translate"),t.qZA(),t.TgZ(5,"button",3),t._UZ(6,"span",4),t.qZA(),t.TgZ(7,"div",5)(8,"ul",6)(9,"li",7)(10,"a",8),t._uU(11),t.ALo(12,"translate"),t.qZA()()(),t.TgZ(13,"ul",9)(14,"li",7)(15,"span",10),t.NdJ("click",function(){return a.logOut()}),t._uU(16),t.ALo(17,"translate"),t.qZA()()()()()(),t.TgZ(18,"div",1),t._UZ(19,"router-outlet"),t.qZA()),2&e&&(t.xp6(3),t.Oqu(t.lcZ(4,4,"nav.taskUsertitle")),t.xp6(7),t.Q6J("routerLinkActiveOptions",t.DdM(10,F)),t.xp6(1),t.Oqu(t.lcZ(12,6,"nav.home")),t.xp6(5),t.Oqu(t.lcZ(17,8,"nav.logout")))},dependencies:[r.lC,r.rH,r.Od,h.X$]});const O=[{path:"",component:k,children:[{path:"",component:m,title:"Tasks"},{path:":id",component:d,title:"Task Details"}]}];class u{}u.\u0275fac=function(e){return new(e||u)},u.\u0275mod=t.oAB({type:u}),u.\u0275inj=t.cJS({imports:[r.Bz.forChild(O),r.Bz]});class g{}g.\u0275fac=function(e){return new(e||g)},g.\u0275mod=t.oAB({type:g}),g.\u0275inj=t.cJS({providers:[c],imports:[l.ez,u,b.m,C.q,v.JX]})}}]);