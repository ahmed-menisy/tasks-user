<section class="min-vh-100 hstack justify-content-center bg-body-secondary">
  <form
    class="col-sm-10 col-md-9 col-lg-7 shadow rounded-3 p-5 bg-light"
    [formGroup]="formLogin"
    (ngSubmit)="login(formLogin)"
  >
    <h1 class="display-4 fw-semibold mb-4 text-center">
      {{ "Login.title" | translate }}
    </h1>

    <mat-form-field appearance="outline" class="w-100">
      <mat-label>{{ "Login.emailInput" | translate }}</mat-label>
      <input
        type="email"
        matInput
        [errorStateMatcher]="matcher"
        placeholder="{{ 'Login.emailPlace' | translate }}"
        [formControlName]="formFiled.email"
      />
      <mat-error *ngIf="formLogin.get(formFiled.email)?.hasError('required')">{{
        "Login.emailErrorReq" | translate
      }}</mat-error>
      <mat-error *ngIf="formLogin.get(formFiled.email)?.hasError('email')">{{
        "Login.emailErrorInValid" | translate
      }}</mat-error>
    </mat-form-field>

    <mat-form-field appearance="outline" class="w-100">
      <mat-label>{{ "Login.passInput" | translate }}</mat-label>

      <input
        autocomplete="off"
        type="password"
        placeholder="{{ 'Login.passPlace' | translate }}"
        matInput
        [errorStateMatcher]="matcher"
        [formControlName]="formFiled.password"
        [type]="hide ? 'password' : 'text'"
      />
      <button
        type="button"
        mat-icon-button
        matSuffix
        (click)="hide = !hide"
        [attr.aria-label]="'Hide password'"
        [attr.aria-pressed]="hide"
      >
        <mat-icon>{{ hide ? "visibility_off" : "visibility" }}</mat-icon>
      </button>

      <mat-error
        *ngIf="formLogin.get(formFiled.password)?.hasError('required')"
        >{{ "Login.passErrorReq" | translate }}</mat-error
      >
      <mat-error
        *ngIf="formLogin.get(formFiled.password)?.hasError('pattern')"
        >{{ "Login.passErrorInValid" | translate }}</mat-error
      >
      <mat-hint> {{ "Login.passHint" | translate }}</mat-hint>
    </mat-form-field>

    <button
      *ngIf="!isLogin"
      mat-raised-button
      color="primary"
      type="submit"
      class="mt-3 w-100"
    >
      {{ "Login.button" | translate }}
    </button>

    <span *ngIf="isLogin" class="text-center d-block"
      ><i class="fas fa-spinner fa-spin fa-xl text-primary"></i
    ></span>
  </form>
</section>
